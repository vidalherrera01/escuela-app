<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Facturas</ion-title>
  </ion-toolbar>

</ion-header>

<ion-content [fullscreen]="true">
  <div class="bgg">

    <ion-card *ngFor="let item of dataUser.arr_students; let i = index">
      <ion-card-header>
        <ion-card-title>Nombre: {{item.name}}</ion-card-title>
        <ion-card-subtitle> </ion-card-subtitle>
      </ion-card-header>

      <ion-card-content>
        <ion-grid>
          <ion-row>
            <ion-col size="6">
              <h1>Curso</h1>
            </ion-col>
            <ion-col>
              <h1>Voucher</h1>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="6">
              <!-- <div *ngFor="let student_courses of item.student_courses; let i = index"></div> -->
              <div *ngFor="let student_courses of item.student_courses; let i = index">
                <div *ngIf="student_courses.state == 'Aprobado'">
                  <ion-list>
                    <ion-text>{{student_courses.name}}</ion-text>

                    <ion-item *ngFor="let invoices of student_courses.invoices; let i = index">
                      <div *ngIf="invoices.payment_reference == 'Pago de Inscripcion'">
                        <ion-label> {{invoices.payment_reference}}
                          <ion-text color="danger"> RD${{student_courses.inscription_product.list_price}}</ion-text>
                        </ion-label>
                      </div>
                      <div *ngIf="invoices.payment_reference == 'Pago de Mensualidad'">
                        <ion-label> {{invoices.payment_reference}}
                          <ion-text color="danger"> RD${{student_courses.monthly_product.list_price}}</ion-text>
                        </ion-label>
                      </div>
                    </ion-item>

                  </ion-list>
                </div>
              </div>

            </ion-col>
            <ion-col size="6">
              <div *ngFor="let student_courses of item.student_courses; let i = index">
                <div *ngIf="student_courses.state == 'Aprobado'">
                  <ion-list>
                    <ion-text color="light">{{student_courses.name}}</ion-text>
                    <ion-item *ngFor="let invoices of student_courses.invoices; let i = index">
                      <ion-button>Subir Vouchers</ion-button>
                      <ion-button>Ver Vouchers</ion-button>
                      <ion-button>Descargar Factura</ion-button>
                    </ion-item>
                  </ion-list>
                </div>
              </div>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="6">
              <h1>Productos</h1>
            </ion-col>
            <ion-col size="6">
              <h1>Voucher</h1>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col size="6">
              <ion-list *ngFor="let products of item.products; let i = index">
                <ion-item>
                  <div>
                    <ion-label> {{products.name}}
                      <ion-text color="danger"> RD${{products.product.list_price}}</ion-text>
                    </ion-label>
                  </div>
                </ion-item>
              </ion-list>
            </ion-col>

            <ion-col size="6">
              <ion-list *ngFor="let products of item.products; let i = index">
                <ion-item>
                  <ion-button>Subir Vouchers</ion-button>
                  <ion-button>Ver Vouchers</ion-button>
                  <ion-button>Descargar Factura</ion-button>
                </ion-item>
              </ion-list>
            </ion-col>
          </ion-row>
        </ion-grid>

      </ion-card-content>
    </ion-card>
  </div>

  <ion-modal [isOpen]="isModalOpen">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title>Vouchers</ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="setOpen(false)">Close</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">

        <p>
          <a [href]="url_invoices">Descargar Factura</a>
        </p>

        <ion-img [src]="file_watchVoucher" alt="No Disponible"></ion-img>

      </ion-content>
    </ng-template>
  </ion-modal>

</ion-content>

<app-footer />